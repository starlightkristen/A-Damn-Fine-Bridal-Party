<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guest Management - A Damn Fine Bridal Party</title>
    <link rel="stylesheet" href="./assets/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üå≤ A Damn Fine Bridal Party üå≤</h1>
            <p>Guest List & Character Assignments</p>
        </header>

        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="decor.html">Decor</a></li>
                <li><a href="food.html">Food</a></li>
                <li><a href="mystery.html">Mystery</a></li>
                <li><a href="schedule.html">Schedule</a></li>
                <li><a href="guests.html">Guests</a></li>
                <li><a href="admin.html">Admin</a></li>
            </ul>
        </nav>

        <div class="card">
            <h2>üë• Guest List</h2>
            <p>Manage guests, track RSVPs, assign characters, and generate personalized invitations.</p>
            
            <div id="guest-table">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Loading guest list...</p>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>üé≠ Character Assignment Guide</h2>
            
            <h3>Available Characters:</h3>
            <div id="character-list-guide">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Loading characters...</p>
                </div>
            </div>

            <div class="alert alert-warning">
                <strong>Assignment Tips:</strong>
                <ul>
                    <li>Match character personalities to guest personalities for best results</li>
                    <li>Consider who would be comfortable with more dramatic vs. subtle roles</li>
                    <li>Use the Auto-Assign feature to get suggestions based on guest personalities</li>
                    <li>Detective roles are great for naturally curious or analytical guests</li>
                    <li>You can assign the same character type to multiple guests if needed</li>
                </ul>
            </div>
        </div>

        <div class="card">
            <h2>‚úâÔ∏è Personalized Invitations</h2>
            <p>Generate tailored invitation text for each guest that includes their character assignment.</p>
            
            <h3>How to Use:</h3>
            <ol>
                <li>Assign characters to guests using the table above</li>
                <li>Click "Copy Invite" for each guest</li>
                <li>Paste the text into your email, message, or physical invitation</li>
                <li>Customize as needed with specific date, time, and location</li>
            </ol>

            <div class="alert alert-info">
                <strong>Sample Invite Format:</strong>
                <p style="background: white; padding: 15px; border-radius: 5px; margin-top: 10px; font-style: italic;">
                    Dear [Guest Name],<br><br>
                    You're invited to "A Damn Fine Bridal Party" for Marlena!<br><br>
                    Join us for coffee, pie, mystery & celebration.<br><br>
                    Your character: [Character Name] - [Role]<br>
                    Come prepared to solve a mystery!<br><br>
                    "The owls are not what they seem..."<br><br>
                    RSVP by [DATE]<br>
                    Location: [TO BE ANNOUNCED]
                </p>
            </div>
        </div>

        <div class="card">
            <h2>üìä Guest Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3 id="stat-total">-</h3>
                    <p>Total Guests</p>
                </div>
                <div class="stat-card">
                    <h3 id="stat-confirmed">-</h3>
                    <p>Confirmed RSVPs</p>
                </div>
                <div class="stat-card">
                    <h3 id="stat-assigned">-</h3>
                    <p>Characters Assigned</p>
                </div>
                <div class="stat-card">
                    <h3 id="stat-pending">-</h3>
                    <p>Pending RSVPs</p>
                </div>
            </div>
        </div>
    </div>

    <script src="./assets/app.js"></script>
    <script src="./assets/modules/render.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            await initApp();
            
            // Update stats after render
            const stats = calculateStats();
            document.getElementById('stat-total').textContent = stats.totalGuests;
            document.getElementById('stat-confirmed').textContent = stats.confirmedGuests;
            document.getElementById('stat-assigned').textContent = stats.assignedCharacters;
            document.getElementById('stat-pending').textContent = stats.pendingGuests;
        });
    </script>
</body>
</html>
